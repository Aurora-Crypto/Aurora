{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "definitions": {
    "Wallet": {
      "type": "object",
      "properties": {
        "address": {
          "type": "string"
        },
        "readOnly": {
          "type": [
            "boolean",
            "null"
          ],
          "default": true
        },
        "seedPhrase": {
          "type": [
            "string",
            "null"
          ],
          "default": ""
        },
        "users": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/User"
          }
        }
      },
      "required": [
        "address",
        "userIds"
      ]
    },
    "User": {
      "type": "object",
      "properties": {
        "id": {
          "type": "string"
        },
        "email": {
          "type": "string"
        },
        "name": {
          "type": [
            "string",
            "null"
          ]
        },
        "processorAPIKeys": {
          "type": "array",
          "items": {
            "type": "string"
          }
        },
        "exchangeAPIKeys": {
          "type": "array",
          "items": {
            "type": "string"
          }
        },
        "wallets": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/Wallet"
          }
        },
        "transactions": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/Transaction"
          }
        }
      },
      "required": [
        "email",
        "processorAPIKeys",
        "exchangeAPIKeys",
        "walletAddresses"
      ]
    },
    "Transaction": {
      "type": "object",
      "properties": {
        "id": {
          "type": "string"
        },
        "date": {
          "type": "string",
          "format": "date-time"
        },
        "receivedQuantity": {
          "type": "number",
          "default": 0
        },
        "receivedCurrency": {
          "type": "string",
          "default": ""
        },
        "sentQuantity": {
          "type": "number",
          "default": 0
        },
        "sentCurrency": {
          "type": "string",
          "default": ""
        },
        "feeAmount": {
          "type": "number",
          "default": 0
        },
        "feeCurrency": {
          "type": "string",
          "default": ""
        },
        "tag": {
          "type": "string",
          "default": "PAYMENT",
          "enum": [
            "GIFT",
            "LOSS",
            "DONATION",
            "MARGIN_FEE",
            "FORK",
            "AIRDROP",
            "MINED",
            "PAYMENT",
            "STAKED",
            "MARGIN",
            "MARGIN_REBATE",
            "INTEREST",
            "INCOME"
          ]
        }
      },
      "required": []
    }
  },
  "type": "object",
  "properties": {
    "wallet": {
      "$ref": "#/definitions/Wallet"
    },
    "user": {
      "$ref": "#/definitions/User"
    }
  }
}